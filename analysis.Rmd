---
title: "RRCHNM 20th Anniversary"
author: "Lincoln Mullen"
date: "November 14, 2014"
output: html_document
---

Set the Omeka API endpoint:

```{r}
library(omekaR)
library(magrittr)
omeka_endpoint("http://20.rrchnm.org/api")
```

Download all the Omeka items, but cache the results.

```{r}
cache <- "data/rrchnm.rda"
if(file.exists(cache)) {
  load(cache) 
} else {
  # Wait 30 seconds between requests
  rrchnm <- get_all_items(30)
}
```

A sample item to play with:

```{r}
wba <- omeka_get("items", 349)
wba_metadata <- element_texts(wba)
```

Get just the projects:

```{r}
types <- sapply(rrchnm, function(item) { item$item_type$name }) %>%
  unlist()
projects <- rrchnm[types == "Project"]
```

